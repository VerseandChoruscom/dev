<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Explore the cinematic lyrics of Kellie Larson. A resource for A&R, music supervisors, and aspiring lyricists looking for critiques and new music.">
    <title>The Cinematic Jukebox | Kellie Larson - Cinematic Songwriter</title>
    
    <!-- React & Tailwind -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">

    <style>
        /* --- BRAND COLOR PALETTE --- */
        :root {
            --metallic-gold: #D4AF37;
            --burgundy: #800020;
            --white: #FFFFFF;
            --black: #000000;
            --blue-gray-elegant: #5D6D7E;
            --sunset-orange: #FD5E53;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--black); /* Global Black Background */
            color: var(--white); /* Global White Text */
            margin: 0;
            padding: 0;
        }

        /* --- HEADER STYLES --- */
        #main-header {
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            padding: 10px 20px; 
            background: var(--black);
            position: relative;
            flex-wrap: wrap; 
            border-bottom: 2px solid var(--metallic-gold);
        }

        .logo-top-left {
            width: 90%; 
            max-width: 300px; 
            height: auto;
            display: block;
            margin-bottom: 10px;
        }

        #nav-menu {
            display: flex;
            gap: 20px;
        }

        #nav-menu a {
            color: var(--white) !important;
            text-decoration: none;
            font-weight: bold;
            font-size: 16px;
        }

        .hamburger {
            display: none;
            cursor: pointer;
            flex-direction: column;
            gap: 5px;
        }

        .hamburger div {
            width: 25px;
            height: 3px;
            background-color: var(--white);
            transition: all 0.3s ease;
        }

        /* --- PAGE CONTENT LAYOUT --- */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            padding-bottom: 60px;
        }

        .hero {
            text-align: center;
            padding: 40px 20px;
            background: var(--black);
            color: var(--white);
            border-bottom: 1px solid #333;
            margin-bottom: 30px;
        }
        .hero h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 3.5rem;
            color: var(--metallic-gold);
            margin-bottom: 5px;
        }
        .hero h2 {
            font-size: 1.1rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: #888;
        }
        
        /* Top Section: Industry Pros */
        .top-section {
            text-align: center;
            margin-bottom: 50px;
            border: 2px solid var(--metallic-gold);
            padding: 30px;
            border-radius: 8px;
            background-color: #0a0a0a;
            box-shadow: 0 4px 20px rgba(212, 175, 55, 0.1);
        }
        .top-section h3 {
            color: var(--white);
            font-size: 1.5rem;
            margin-bottom: 10px;
            text-transform: uppercase;
            font-weight: 800;
        }
        .top-section a {
            color: var(--sunset-orange);
            font-size: 1.1rem;
            font-weight: 800;
            text-decoration: none;
        }
        .top-section a:hover {
            text-decoration: underline;
        }

        /* iPod Section */
        .jukebox-section {
            text-align: center;
            margin-bottom: 80px;
        }
        .jukebox-title {
            font-family: 'Dancing Script', cursive;
            font-size: 4rem;
            color: var(--metallic-gold);
            margin-bottom: 10px;
        }
        .jukebox-subtitle {
            color: #ccc;
            margin-bottom: 50px;
            font-size: 1.1rem;
        }
        .ipod-section {
            background-color: transparent;
            min-height: 980px; 
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Bottom Grid: Other Links */
        .bottom-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        .action-card {
            background: #0a0a0a;
            border: 1px solid var(--metallic-gold);
            border-left: 6px solid var(--burgundy);
            padding: 30px;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .action-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 25px rgba(212, 175, 55, 0.2);
        }
        .action-card h3 {
            margin-top: 0;
            font-size: 1.25rem;
            text-transform: uppercase;
            color: var(--white);
            margin-bottom: 15px;
            border-bottom: 1px solid #222;
            padding-bottom: 10px;
            font-weight: 800;
        }
        .action-card p {
            color: #bbb;
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 25px;
        }
        .action-card a {
            color: var(--sunset-orange);
            font-weight: 800;
            text-decoration: none;
            text-transform: uppercase;
            font-size: 0.9rem;
            letter-spacing: 1px;
        }
        .action-card a:hover {
            text-decoration: underline;
        }

        /* --- FOOTER STYLES --- */
        .site-footer {
            background-color: var(--black);
            color: var(--white);
            text-align: center; 
            padding: 50px 20px;
            margin-top: 50px;
            border-top: 2px solid var(--metallic-gold);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .site-footer p { margin: 5px 0; width: 100%; text-align: center; }
        .footer-line {
            border: 0; height: 1px; background: var(--metallic-gold); margin: 20px auto; width: 100%; max-width: 300px;
        }
        .footer-links { margin-top: 10px; text-align: center; width: 100%; }
        .footer-links a { color: var(--white); text-decoration: none; margin: 0 10px; font-weight: bold; }

        @media (max-width: 768px) {
            .hamburger { display: flex; }
            #nav-menu {
                display: none; flex-direction: column; width: 100%; position: absolute;
                top: 100%; left: 0; background-color: var(--black); padding: 20px 0;
                z-index: 1000; border-bottom: 2px solid var(--metallic-gold);
            }
            #nav-menu.active { display: flex; }
            #nav-menu a { padding: 15px 0; text-align: center; width: 100%; border-bottom: 1px solid #333; }
            
            .ipod-wrapper { transform: scale(0.85) !important; margin-bottom: 0 !important; }
            .ipod-section { min-height: 700px; }
            .jukebox-title { font-size: 3rem; }
        }
    </style>
    <script>
        function toggleMenu() {
            const navMenu = document.getElementById('nav-menu');
            navMenu.classList.toggle('active'); 
        }
    </script>
</head>
<body>

    <header id="main-header">
        <img src="/images/logo/verseandchorus-logo-med-photo.jpg" alt="Verse and Chorus Logo" class="logo-top-left" />
        <div class="hamburger" onclick="toggleMenu()">
          <div></div><div></div><div></div>
        </div>
        <nav id="nav-menu">
          <a href="/bio.html">Bio</a>
          <a href="/industry-pros.html">Industry Pro</a>
          <a href="/lyrics.html">Lyrics</a>
          <a href="/articles.html">Articles</a>
          <a href="/reports.html">Reports</a>
          <a href="/collab.html">Collab</a>
          <a href="/contact.html">Contact</a>
          <a href="/legal.html">Legal</a>
        </nav>
    </header>

    <div class="hero">
        <h1>Kellie Larson</h1>
        <h2>Cinematic Songwriter & Lyricist</h2>
    </div>

    <div class="container">
        
        <!-- TOP SECTION: Industry Professionals -->
        <div class="top-section">
            <h3>For Industry Professionals</h3>
            <p style="color: #bbb; margin-bottom: 15px;">Seeking clearable, high-concept IP for sync or artist placement?</p>
            <p><a href="industry-pros.html">A&R and Music Supervisors: Please go here to your dedicated page ‚Üí</a></p>
        </div>

        <!-- MIDDLE SECTION: The Cinematic Jukebox -->
        <div class="jukebox-section">
            <h2 class="jukebox-title">The Cinematic Jukebox</h2>
            <p class="jukebox-subtitle">Use the click wheel to browse 44 cinematic tracks by Mood or Theme.</p>
            
            <div class="ipod-section">
                <!-- React Root for iPod -->
                <div id="ipod-root" class="w-full flex justify-center">
                    <span class="text-white animate-pulse">Loading Digital Jukebox...</span>
                </div>
            </div>
        </div>

        <!-- BOTTOM SECTION: Action Grid -->
        <div class="bottom-grid">
            <!-- New Artists / Bio -->
            <div class="action-card">
                <h3>Discover the Writer</h3>
                <p>Behind every great song is a story. Explore the artistic journey and 25 years of professional discipline.</p>
                <p><a href="bio.html">Meet Kellie Larson Cinematic ‚Üí</a></p>
            </div>

            <!-- Lyric Critique -->
            <div class="action-card">
                <h3>Get Your Lyrics Critiqued</h3>
                <p>Are you a lyricist or songwriter? Get a professional assessment of your work‚Äôs potential for radio or film sync.</p>
                <p><a href="lyrics-critique.html">Check Your Chances ‚Üí</a></p>
            </div>

            <!-- Fun & Notifications -->
            <div class="action-card">
                <h3>Stay Notified</h3>
                <p>Be the first to know when new songs, articles, and cinematic narratives are posted.</p>
                <p><a href="contact.html">Join the Mailing List</a></p>
                <hr style="border: 0; border-top: 1px solid #222; margin: 20px 0;">
                <p><a href="green-room.html">Visit the Green Room for Lyrical Mad Libs! üé≤</a></p>
            </div>
        </div>

    </div>

    <footer class="site-footer">
        <p>‚ô•Ô∏è Kellie Larson ‚ô•Ô∏è</p>
        <p>‚úçÔ∏è Cinematic Songwriter & Lyricist üéπ</p>
        <p>üßë‚Äçüé§ www.VerseandChorus.com üéôÔ∏è</p>
        <p>¬© 2025 Kellie Larson. All Rights Reserved.</p>
        <p>‚úâÔ∏è info@verseandchorus.com üì®</p>
        <p>‚òéÔ∏è 760-537-0222 üì≤</p>
        <hr class="footer-line">
        <div class="footer-links">
            <a href="contact.html">Contact</a> | <a href="legal.html">Legal</a>
        </div>
    </footer>

    <!-- iPod React Logic -->
    <script type="text/babel">
        // SVG Icons
        const IconBattery = () => <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-gray-600 fill-green-500"><rect width="16" height="10" x="2" y="7" rx="2" ry="2"/><line x1="22" x2="22" y1="11" y2="13"/></svg>;
        const IconChevronRight = () => <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m9 18 6-6-6-6"/></svg>;
        const IconMusic = (props) => {
            const size = props.size || 32;
            const className = props.className || "";
            return (
                <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg>
            );
        };
        const IconPlay = () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="5 3 19 12 5 21 5 3"/></svg>;
        const IconPause = () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="4" height="16" x="6" y="4"/><rect width="4" height="16" x="14" y="4"/></svg>;
        const IconRewind = () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="11 19 2 12 11 5 11 19"/><polygon points="22 19 13 12 22 5 22 19"/></svg>;
        const IconFastForward = () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="13 19 22 12 13 5 13 19"/><polygon points="2 19 11 12 2 5 2 19"/></svg>;

        const { useState, useEffect, useRef } = React;

        // --- MASTER DATA ---
        const ARTIST = "Kellie Larson";
        const RAW_TITLES = [
          "Author of a Lie", "Big Hard No", "Boom Boom Beat", "Bottom of the Wishing Well",
          "CEO, not babysitting tree", "Children of War", "Concrete Under the Feet", "Craving those crumbs",
          "Don't Be Jelly", "Ephemeral Moment", "Etched in every Space", "Fury (I'm the Monster)",
          "GenX 80s Anthem", "Heartbreak and Trouble", "Hit the Road", "Hows It Feel, Bro",
          "I Know Your Damn Pin Code", "I'm a Broken Record", "In My Dreams (When I Wake)",
          "Just a little lonely", "Just Too Much", "Little Things", "Murderers Heart",
          "My Girl Karma", "My Words Still Matter", "Not that Girl Anymore", "One Small Wrong",
          "Shot by Cupids Dart", "Showdown at My Door", "Sick One (s1c)", "Solid Shifting Ground",
          "Stood by My Side", "Take That First Step", "The Aftermath", "The Back of Me",
          "The Pocket Watch", "The Real Dream Team", "The Show Is Through", "Thought You Should Know",
          "Top Shelf Queen", "Welcome to Jukes", "Wildflower", "Year in the Rearview", "Your Forever Man"
        ];

        const THEMES = {
          "Empowerment": ["CEO, not babysitting tree", "Top Shelf Queen", "My Words Still Matter", "Big Hard No", "Take That First Step", "Solid Shifting Ground"],
          "Heartbreak": ["Heartbreak and Trouble", "Just a little lonely", "Author of a Lie", "Not that Girl Anymore", "Your Forever Man", "The Back of Me"],
          "Dark & Edgy": ["Fury (I'm the Monster)", "Sick One (s1c)", "Murderers Heart", "One Small Wrong", "I Know Your Damn Pin Code"],
          "Dreamy": ["In My Dreams (When I Wake)", "The Real Dream Team", "Bottom of the Wishing Well", "Ephemeral Moment", "Wildflower"],
          "Life Journey": ["Year in the Rearview", "Hit the Road", "Concrete Under the Feet", "Hows It Feel, Bro", "The Show Is Through"]
        };

        const MOODS = {
          "Feisty / Sassy": ["CEO, not babysitting tree", "Top Shelf Queen", "Big Hard No", "Don't Be Jelly", "My Girl Karma"],
          "Melancholic": ["Just a little lonely", "Heartbreak and Trouble", "The Back of Me", "Author of a Lie", "Etched in every Space"],
          "Angry / Intense": ["Fury (I'm the Monster)", "Sick One (s1c)", "Murderers Heart", "I Know Your Damn Pin Code", "Showdown at My Door"],
          "Reflective / Nostalgic": ["Year in the Rearview", "The Pocket Watch", "In My Dreams (When I Wake)", "GenX 80s Anthem", "Little Things"],
          "Hopeful / Resilient": ["Take That First Step", "Solid Shifting Ground", "My Words Still Matter", "The Real Dream Team", "Concrete Under the Feet"],
          "Upbeat / Fun": ["Boom Boom Beat", "Welcome to Jukes", "Shot by Cupids Dart", "Hows It Feel, Bro"]
        };

        const toFilename = (title) => {
            return title.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-+|-+$/g, '');
        };

        const generatePlaylist = () => {
          return RAW_TITLES.map((title, index) => {
            const filename = toFilename(title);
            return {
                id: index,
                title: title,
                artist: ARTIST,
                slug: filename,
                audioSrc: `audio/${filename}.mp3`
            };
          });
        };

        const SONGS = generatePlaylist();

        // --- COMPONENTS ---
        const Header = ({ title, time }) => (
          <div className="h-6 bg-gradient-to-b from-gray-100 to-gray-300 border-b border-gray-400 flex items-center justify-between px-2 text-[10px] font-semibold text-gray-800 shadow-sm z-10">
            <div className="flex items-center gap-1"><span className="font-bold">{title}</span></div>
            <div className="flex items-center gap-2">{time} <IconBattery /></div>
          </div>
        );

        const MenuItem = ({ label, isActive, hasArrow = true }) => (
          <div className={`flex items-center justify-between px-2 py-1 ${isActive ? 'bg-blue-600 text-white' : 'bg-white text-black'}`}>
            <span className="text-xs font-semibold truncate w-full">{label}</span>
            {hasArrow && <IconChevronRight />}
          </div>
        );

        function IPodLyrics() {
          const [menuStack, setMenuStack] = useState(['main']);
          const [selectedIndex, setSelectedIndex] = useState(0);
          const [currentSong, setCurrentSong] = useState(null);
          const [isPlaying, setIsPlaying] = useState(false);
          const [currentTime, setCurrentTime] = useState("12:00");
          const [selectedTheme, setSelectedTheme] = useState(null);
          const [selectedMood, setSelectedMood] = useState(null);
          
          const [allLyrics, setAllLyrics] = useState({}); // Stores contents of lyrics.json
          const [lyricDisplay, setLyricDisplay] = useState("Loading lyrics...");
          
          const wheelRef = useRef(null);
          const audioRef = useRef(null); 
          
          // Initialize Audio and Clock
          useEffect(() => {
            audioRef.current = new Audio();
            const timer = setInterval(() => {
              const now = new Date();
              setCurrentTime(now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }));
            }, 1000);
            
            // Load lyrics.json
            fetch('lyrics.json')
              .then(res => res.json())
              .then(data => setAllLyrics(data))
              .catch(err => {
                console.error("Could not load lyrics.json", err);
                setAllLyrics({});
              });

            const handleEnded = () => setIsPlaying(false);
            if (audioRef.current) {
                audioRef.current.addEventListener('ended', handleEnded);
            }
            
            return () => {
                clearInterval(timer);
                if (audioRef.current) {
                    audioRef.current.pause();
                    audioRef.current.src = "";
                    audioRef.current.removeEventListener('ended', handleEnded);
                }
            };
          }, []);

          // Control Playback
          useEffect(() => {
             if (audioRef.current) {
                if (isPlaying) {
                    audioRef.current.play().catch(e => console.log("User interaction required for audio. Click Play on the wheel."));
                } else {
                    audioRef.current.pause();
                }
             }
          }, [isPlaying]);

          // Handle Song Selection
          useEffect(() => {
            if (currentSong && audioRef.current) {
                audioRef.current.src = currentSong.audioSrc;
                audioRef.current.load();
                if (isPlaying) audioRef.current.play().catch(() => {});

                // Find lyrics by slug (filename) from JSON
                const content = allLyrics[currentSong.slug] || allLyrics[currentSong.title];
                if (content) {
                    setLyricDisplay(content);
                } else {
                    setLyricDisplay(`Placeholder Lyric Content for "${currentSong.title}".`);
                }
            }
          }, [currentSong, allLyrics]);

          const currentScreen = menuStack[menuStack.length - 1];

          const getListItems = () => {
            switch (currentScreen) {
              case 'main': return [{ id: 'music', label: 'Music' }, { id: 'extras', label: 'Extras' }, { id: 'settings', label: 'Settings' }, { id: 'shuffle', label: 'Shuffle Songs' }];
              case 'music': return [{ id: 'songs', label: `Songs (${SONGS.length})` }, { id: 'artists', label: 'Artists' }, { id: 'themes', label: 'Themes' }, { id: 'moods', label: 'Moods' }];
              case 'themes': return Object.keys(THEMES).map(themeName => ({ id: themeName, label: themeName }));
              case 'moods': return Object.keys(MOODS).map(moodName => ({ id: moodName, label: moodName }));
              case 'songs':
                let displayedSongs = SONGS;
                if (selectedTheme) {
                  const themeTitles = THEMES[selectedTheme] || [];
                  displayedSongs = SONGS.filter(s => themeTitles.includes(s.title));
                } else if (selectedMood) {
                  const moodTitles = MOODS[selectedMood] || [];
                  displayedSongs = SONGS.filter(s => moodTitles.includes(s.title));
                }
                return displayedSongs.map(s => ({ id: s.id, label: s.title, data: s }));
              default: return [];
            }
          };

          const listItems = getListItems();

          const handleScroll = (direction) => {
            if (currentScreen === 'nowPlaying') return;
            if (direction === 'down') {
              setSelectedIndex(prev => (prev + 1) % listItems.length);
            } else {
              setSelectedIndex(prev => (prev - 1 + listItems.length) % listItems.length);
            }
          };

          const handleSelect = () => {
            const selectedItem = listItems[selectedIndex];
            if (!selectedItem) return;
            if (currentScreen === 'main') {
              if (selectedItem.id === 'music') { setMenuStack([...menuStack, 'music']); setSelectedIndex(0); }
            } else if (currentScreen === 'music') {
              if (selectedItem.id === 'songs') { setSelectedTheme(null); setSelectedMood(null); setMenuStack([...menuStack, 'songs']); setSelectedIndex(0); }
              else if (selectedItem.id === 'themes') { setMenuStack([...menuStack, 'themes']); setSelectedIndex(0); }
              else if (selectedItem.id === 'moods') { setMenuStack([...menuStack, 'moods']); setSelectedIndex(0); }
            } else if (currentScreen === 'themes') { setSelectedTheme(selectedItem.id); setSelectedMood(null); setMenuStack([...menuStack, 'songs']); setSelectedIndex(0); }
            else if (currentScreen === 'moods') { setSelectedMood(selectedItem.id); setSelectedTheme(null); setMenuStack([...menuStack, 'songs']); setSelectedIndex(0); }
            else if (currentScreen === 'songs') { setCurrentSong(selectedItem.data); setIsPlaying(true); setMenuStack([...menuStack, 'nowPlaying']); setSelectedIndex(0); }
          };

          const handleMenu = () => {
            if (menuStack.length > 1) { const newStack = [...menuStack]; newStack.pop(); setMenuStack(newStack); setSelectedIndex(0); }
          };

          const handleNext = () => {
            if (currentScreen === 'nowPlaying' && currentSong) { const nextId = (currentSong.id + 1) % SONGS.length; setCurrentSong(SONGS[nextId]); }
          };
          const handlePrev = () => {
            if (currentScreen === 'nowPlaying' && currentSong) { const prevId = (currentSong.id - 1 + SONGS.length) % SONGS.length; setCurrentSong(SONGS[prevId]); }
          };

          const renderScreenContent = () => {
            if (currentScreen === 'nowPlaying') {
              if (!currentSong) return <div className="p-4">No song selected</div>;
              return (
                <div className="flex flex-col h-full bg-white text-left">
                  <Header title="Now Playing" time={currentTime} />
                  <div className="flex-1 flex flex-col p-3 overflow-hidden">
                    <div className="flex gap-3 mb-3">
                      <div className="w-20 h-20 bg-gradient-to-br from-gray-700 to-gray-900 shadow-lg flex items-center justify-center text-gray-100 rounded-sm shrink-0">
                        <IconMusic size={32} className="text-white" />
                      </div>
                      <div className="flex flex-col justify-center min-w-0 flex-1">
                        <h2 className="font-bold text-sm leading-tight mb-1 break-words">{currentSong.title}</h2>
                        <p className="text-xs text-gray-600">{currentSong.artist}</p>
                      </div>
                    </div>
                    <div className="flex-1 border-t border-gray-200 mt-1 pt-2 overflow-y-auto bg-gray-50 rounded px-2">
                      <p className="text-center text-[10px] font-bold text-gray-400 mb-2 uppercase tracking-wider">Lyrics</p>
                      <p className="text-xs text-gray-800 whitespace-pre-wrap font-serif leading-relaxed text-center pb-4">
                        {lyricDisplay}
                      </p>
                    </div>
                  </div>
                </div>
              );
            }
            const titleMap = { 'main': 'iPod', 'music': 'Music', 'themes': 'Themes', 'moods': 'Moods', 'songs': selectedTheme ? selectedTheme : (selectedMood ? selectedMood : 'All Songs') };
            const isMain = currentScreen === 'main';
            return (
              <div className="flex flex-col h-full bg-white text-left">
                <Header title={titleMap[currentScreen] || 'Menu'} time={currentTime} />
                <div className="flex flex-1 overflow-hidden">
                   <div className={`flex-1 overflow-y-auto ${isMain ? 'w-1/2' : 'w-full'}`}>
                     {listItems.length > 0 ? (
                       listItems.map((item, idx) => (
                        <MenuItem key={idx} label={item.label} isActive={idx === selectedIndex} hasArrow={currentScreen !== 'songs'} />
                       ))
                     ) : (
                       <div className="p-4 text-center text-xs text-gray-500">No items found</div>
                     )}
                   </div>
                   {isMain && (
                     <div className="w-1/2 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center border-l border-gray-200">
                        <IconMusic size={64} className="text-gray-300 animate-pulse" />
                     </div>
                   )}
                </div>
              </div>
            );
          };

          return (
            <div className="flex items-center justify-center font-sans select-none py-10">
              <div className="relative w-[370px] h-[600px] scale-[1.3] origin-top mb-[180px] ipod-wrapper bg-gradient-to-br from-[#F9E58A] via-[#D4AF37] to-[#AA8C2C] rounded-[40px] shadow-[0_0_0_2px_#AA8C2C,0_20px_40px_rgba(0,0,0,0.5),inset_0_0_20px_rgba(255,255,255,0.4)] flex flex-col items-center overflow-hidden">
                {/* Gloss / Reflection */}
                <div className="absolute top-0 left-0 w-full h-full bg-gradient-to-tr from-transparent via-white/30 to-transparent pointer-events-none rounded-[40px]" />
                
                {/* Screen Area */}
                <div className="mt-8 w-[320px] h-[240px] bg-black rounded-lg p-1 shadow-inner relative z-10">
                  <div className="w-full h-full bg-white rounded overflow-hidden relative text-black">
                    {renderScreenContent()}
                  </div>
                  <div className="absolute top-0 left-0 w-full h-1/2 bg-gradient-to-b from-white/10 to-transparent pointer-events-none" />
                </div>
                
                {/* Click Wheel Area */}
                <div className="flex-1 flex items-center justify-center w-full relative z-10">
                  <div ref={wheelRef} className="w-[240px] h-[240px] bg-[#FFF8DC] rounded-full relative shadow-[0_5px_15px_rgba(0,0,0,0.2),inset_0_0_10px_rgba(0,0,0,0.1)] active:brightness-95 transition-all border-4 border-[#B8860B]/20">
                    <button onClick={handleMenu} className="absolute top-2 left-1/2 -translate-x-1/2 w-16 h-12 flex flex-col items-center justify-start pt-1 text-black font-bold text-xs tracking-widest hover:text-gray-900 transition-colors uppercase">Menu</button>
                    <button onClick={() => { handleScroll('up'); if(currentScreen==='nowPlaying') handlePrev(); }} className="absolute left-2 top-1/2 -translate-y-1/2 w-12 h-16 flex items-center justify-start pl-2 text-black hover:text-gray-900 transition-colors"><IconRewind /></button>
                    <button onClick={() => { handleScroll('down'); if(currentScreen==='nowPlaying') handleNext(); }} className="absolute right-2 top-1/2 -translate-y-1/2 w-12 h-16 flex items-center justify-end pr-2 text-black hover:text-gray-900 transition-colors"><IconFastForward /></button>
                    <button onClick={() => setIsPlaying(!isPlaying)} className="absolute bottom-3 left-1/2 -translate-x-1/2 w-16 h-12 flex items-end justify-center pb-1 text-black hover:text-gray-900 transition-colors">{isPlaying ? <IconPause /> : <IconPlay />}</button>
                    <div className="absolute inset-10 rounded-full border border-[#D4AF37] opacity-30 pointer-events-none"></div>
                    <button onClick={handleSelect} className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[88px] h-[88px] bg-gradient-to-br from-[#F9E79F] to-[#B7950B] rounded-full shadow-[0_2px_5px_rgba(0,0,0,0.3)] active:scale-95 transition-transform flex items-center justify-center z-20">
                      <div className="w-[84px] h-[84px] rounded-full bg-[#D4AF37] flex items-center justify-center border border-[#AA8C2C]"></div>
                    </button>
                  </div>
                </div>
                
                {/* Ports */}
                <div className="mb-6 flex gap-8 opacity-30">
                   <div className="w-16 h-2 bg-[#5e4313] rounded-full"></div>
                   <div className="w-3 h-3 bg-[#5e4313] rounded-full"></div>
                </div>
              </div>
            </div>
          );
        }

        const root = ReactDOM.createRoot(document.getElementById('ipod-root'));
        root.render(<IPodLyrics />);
    </script>

</body>
</html>

